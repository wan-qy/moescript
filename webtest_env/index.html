<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<style type="text/css">@import url(webtest.css);</style>
	<title>Moescript web test</title>
</head>
<body>

	<div id="master">
		<div id="toolbar"><button id="go">Start script</button> When in doubt, F12.</div>
		<textarea id="input"></textarea>
		<pre id="output"></pre>
		<pre id="err"></pre>
	</div>
	<pre id="info">Moescript:asoi web test environment.
Type script in the box and click "start".
Prelude is loaded.

When in doubt, F12.</pre>

	<script type="text/javascript">
		//<![CDATA[
		var $ = function(e){
			return document.getElementById(e);
		}
		var G_TRACE = function (element) {
			var _output = document.getElementById(element);
			function trace(x) {
				var s = '';
				for (var i = 0; i < arguments.length; i++) s += arguments[i];
				_output.appendChild(document.createTextNode(s + '\n'));
				return arguments[arguments.length - 1];
			};
			function traceraw(s){
				_output.innerHTML += s;
			}
			return {
				trace: trace,
				tracel: trace,
				traceraw: traceraw
			}
		}
		var clrscr = function () {
			document.getElementById('output').innerHTML =
				document.getElementById('info').innerHTML = 
					document.getElementById('err').innerHTML = '';
		}
		var output = G_TRACE('output');
		output.stdout = output;
		
//]]></script>
	
	<!-- runtime -->
	<script src="mod.rt.js" type="text/javascript"></script>
	<script src="webtest.js" type="text/javascript"></script>
</body>
</html>